layout: w
title: API开发最佳实践
date: 2016-04-05 11:55:04
tags: [develop,architecture&design]
---
# 业务逻辑部分
## 业务分层优化
明确各个层的任务：
Model(DAO):数据持久层的工作，对数据库的操作都封装在这。
Service ： 业务逻辑层，负责业务模块的逻辑应用设计，controller中就可以调用service的接口实现业务逻辑处理，提高了通用的业务逻辑的复用性，设计到具体业务实现会调用Model的接口。
Controller ：控制层，负责具体业务流程控制，这里调用service层，将数据返回到视图

# 代码细节部分
mc的键值各个业务模块应该区分，且带上必要的渠道参数，方便管理。

判断尽量简洁，配置文件可以采用键值对的形式进行配置，判断使用isset方式。

本地redis清除缓存方式：flushall：删除所有数据库中的所有key

# 流程规范部分
1.feature分支要基于master分支开出，为的是保证新开发的分分支是基于稳定的。（错误案例是从release分支开出）
2.每个分支只做一件事情
3.冲突最理想的情况是在发生冲突前用一些手段规避和扼杀掉。如：公共的需要修改的方法，可以考虑再开出一个新分支来处理（抽象），解决公共的功能。也就是说的解耦，让程序模块化，彼此的依赖降低到最低。
思想：如何长远的采用非人工的，优雅的方式解决问题。
P.S. 来自于一次不符合规范的提交分享会